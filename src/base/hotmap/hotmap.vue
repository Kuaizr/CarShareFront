<!-- 热力图 -->
<template>
   <div class="hotmap">
       <div id="container"></div>
   </div>
</template>

<script>
import heatmap from 'echarts/lib/chart/heatmap';//热力图
import bmap from 'echarts/extension/bmap/bmap';//bmap

export default {
   props: {
       val:{
		   type: Number
	   }
   },
   data() {
       return {
			bmap:null,
			heatmapOverlay: {},
			points1:[{"lng":"104.0740635","lat":"30.69689185","count":"1"},{"lng":"104.1062679","lat":"30.67711283","count":"1"},{"lng":"104.1074584","lat":"30.67408476","count":"1"},{"lng":"104.1075584","lat":"30.67383492","count":"1"},{"lng":"104.10615779999999","lat":"30.67740265","count":"1"},{"lng":"104.10220679999999","lat":"30.68445802","count":"1"},{"lng":"104.0798666","lat":"30.69697693","count":"1"},{"lng":"104.078568","lat":"30.69698789","count":"1"},{"lng":"104.07834820000001","lat":"30.69698806","count":"1"},{"lng":"104.0774393","lat":"30.69698878","count":"1"},{"lng":"104.0727353","lat":"30.697073100000004","count":"1"},{"lng":"104.07193640000001","lat":"30.69708393","count":"1"},{"lng":"104.07108769999999","lat":"30.69709485","count":"1"},{"lng":"104.0869307","lat":"30.69430428","count":"1"},{"lng":"104.07167679999999","lat":"30.69708421","count":"1"},{"lng":"104.0614444","lat":"30.69702757","count":"1"},{"lng":"104.06371","lat":"30.69702423","count":"1"},{"lng":"104.0933375","lat":"30.69132408","count":"1"},{"lng":"104.0875303","lat":"30.69418411","count":"1"},{"lng":"104.08741040000001","lat":"30.69424413","count":"1"},{"lng":"104.1079186","lat":"30.67254568","count":"1"},{"lng":"104.1080387","lat":"30.67258572","count":"1"},{"lng":"104.10862900000001","lat":"30.67080683","count":"1"},{"lng":"104.1089291","lat":"30.67005733","count":"1"},{"lng":"104.10898909999999","lat":"30.66988744","count":"1"},{"lng":"104.1119609","lat":"30.66247254","count":"1"},{"lng":"104.04648890000001","lat":"30.69667499","count":"1"},{"lng":"104.0530026","lat":"30.69697191","count":"1"},{"lng":"104.057263","lat":"30.69705428","count":"1"},{"lng":"104.06294150000001","lat":"30.69702534","count":"1"},{"lng":"104.0630912","lat":"30.69702512","count":"1"},{"lng":"104.0556166","lat":"30.69706712","count":"1"},{"lng":"104.0539305","lat":"30.69700018","count":"1"},{"lng":"104.0660358","lat":"30.69696106","count":"1"},{"lng":"104.0561155","lat":"30.69706625","count":"1"},{"lng":"104.06500770000001","lat":"30.69697244","count":"1"},{"lng":"104.0755416","lat":"30.69687048","count":"1"},{"lng":"104.0470574","lat":"30.6968837","count":"1"},{"lng":"104.0537708","lat":"30.69704045","count":"1"},{"lng":"104.06729370000001","lat":"30.69693943","count":"1"},{"lng":"104.0798666","lat":"30.69684699","count":"1"},{"lng":"104.0909285","lat":"30.69228401","count":"1"},{"lng":"104.1057777","lat":"30.67779231","count":"1"},{"lng":"104.0717767","lat":"30.69693417","count":"1"},{"lng":"104.08676080000001","lat":"30.69437432","count":"1"},{"lng":"104.10127659999999","lat":"30.68573719","count":"1"},{"lng":"104.1051975","lat":"30.67877163","count":"1"},{"lng":"104.1072983","lat":"30.67400471","count":"1"},{"lng":"104.10814870000002","lat":"30.67197605","count":"1"},{"lng":"104.108729","lat":"30.67055699","count":"1"},{"lng":"104.1095194","lat":"30.66856832","count":"1"},{"lng":"104.0506283","lat":"30.69708639","count":"1"},{"lng":"104.1073883","lat":"30.67437459","count":"1"},{"lng":"104.0932376","lat":"30.69119415","count":"1"},{"lng":"104.0998865","lat":"30.68794589","count":"1"},{"lng":"104.1078986","lat":"30.67298547","count":"1"},{"lng":"104.0928777","lat":"30.69155402","count":"1"},{"lng":"104.0872205","lat":"30.69434415","count":"1"},{"lng":"104.1004365","lat":"30.68713637","count":"1"},{"lng":"104.10136659999999","lat":"30.68559728","count":"1"},{"lng":"104.10148670000001","lat":"30.68537741","count":"1"},{"lng":"104.1045573","lat":"30.67990087","count":"1"},{"lng":"104.1081787","lat":"30.67172618","count":"1"},{"lng":"104.1115306","lat":"30.66345183","count":"1"},{"lng":"104.09588690000001","lat":"30.69000456","count":"1"},{"lng":"104.0883498","lat":"30.69379401","count":"1"},{"lng":"104.071567","lat":"30.69708433","count":"1"},{"lng":"104.0692305","lat":"30.69695704","count":"1"},{"lng":"104.07291500000001","lat":"30.69693298","count":"1"},{"lng":"104.0865209","lat":"30.69449436","count":"1"},{"lng":"104.1072483","lat":"30.67471437","count":"1"},{"lng":"104.1001565","lat":"30.68779601","count":"1"},{"lng":"104.0885797","lat":"30.69348408","count":"1"},{"lng":"104.0961768","lat":"30.68967472","count":"1"},{"lng":"104.10148670000001","lat":"30.6853874","count":"1"},{"lng":"104.1049974","lat":"30.67914138","count":"1"},{"lng":"104.1082088","lat":"30.67166622","count":"1"},{"lng":"104.1112804","lat":"30.66464114","count":"1"},{"lng":"104.1071182","lat":"30.67506415","count":"1"},{"lng":"104.04695770000001","lat":"30.696694","count":"1"},{"lng":"104.0468978","lat":"30.69669413","count":"1"},{"lng":"104.05389050000001","lat":"30.69700025","count":"1"},{"lng":"104.0570834","lat":"30.69705459","count":"1"},{"lng":"104.06374","lat":"30.6969842","count":"1"},{"lng":"104.0745129","lat":"30.69689142","count":"1"},{"lng":"104.0970367","lat":"30.68922496","count":"1"},{"lng":"104.1041272","lat":"30.68067036","count":"1"},{"lng":"104.1084689","lat":"30.67102664","count":"1"},{"lng":"104.0716069","lat":"30.69708429","count":"1"},{"lng":"104.0522744","lat":"30.69699326","count":"1"},{"lng":"104.0592089","lat":"30.69696111","count":"1"},{"lng":"104.0622528","lat":"30.69702635","count":"1"},{"lng":"104.08018630000001","lat":"30.6969767","count":"1"},{"lng":"104.05528740000001","lat":"30.697067699999998","count":"1"},{"lng":"104.06152420000001","lat":"30.69699746","count":"1"},{"lng":"104.0712175","lat":"30.69691479","count":"1"},{"lng":"104.080416","lat":"30.69683661","count":"1"},{"lng":"104.08964909999999","lat":"30.69290403","count":"1"},{"lng":"104.10308690000001","lat":"30.68293897","count":"1"},{"lng":"104.08411269999999","lat":"30.69587483","count":"1"}],
      		points2:[{"lng":"104.1030369","lat":"30.68300893","count":"1"},{"lng":"104.0949371","lat":"30.69050434","count":"1"},{"lng":"104.1120209","lat":"30.66277245","count":"1"},{"lng":"104.1080587","lat":"30.67259573","count":"1"},{"lng":"104.10787859999999","lat":"30.67303544","count":"1"},{"lng":"104.1063579","lat":"30.67690297","count":"1"},{"lng":"104.0843325","lat":"30.69552488","count":"1"},{"lng":"104.08683070000001","lat":"30.69453421","count":"1"},{"lng":"104.10273690000001","lat":"30.68354859","count":"1"},{"lng":"104.0950771","lat":"30.69043437","count":"1"},{"lng":"104.0842926","lat":"30.69577479","count":"1"},{"lng":"104.07950699999999","lat":"30.69697719","count":"1"},{"lng":"104.044973","lat":"30.696748200000002","count":"1"},{"lng":"104.11217099999999","lat":"30.66239272","count":"1"},{"lng":"104.1091292","lat":"30.66999747","count":"1"},{"lng":"104.10611779999999","lat":"30.67753258","count":"1"},{"lng":"104.10282690000001","lat":"30.68338869","count":"1"},{"lng":"104.0922379","lat":"30.69187396","count":"1"},{"lng":"104.0922379","lat":"30.69187396","count":"1"},{"lng":"104.0534017","lat":"30.69704113","count":"1"},{"lng":"104.06270190000001","lat":"30.6969957","count":"1"},{"lng":"104.07569140000001","lat":"30.69687034","count":"1"},{"lng":"104.0841027","lat":"30.69564495","count":"1"},{"lng":"104.09250779999999","lat":"30.6914941","count":"1"},{"lng":"104.09137829999999","lat":"30.69229392","count":"1"},{"lng":"104.08796","lat":"30.69378414","count":"1"},{"lng":"104.0561355","lat":"30.69706621","count":"1"},{"lng":"104.0601869","lat":"30.69703951","count":"1"},{"lng":"104.1022468","lat":"30.68438806","count":"1"},{"lng":"104.0949371","lat":"30.69051434","count":"1"},{"lng":"104.09184809999999","lat":"30.69206394","count":"1"},{"lng":"104.0907885","lat":"30.692593900000002","count":"1"},{"lng":"104.0899589","lat":"30.69300391","count":"1"},{"lng":"104.0876402","lat":"30.69413409","count":"1"},{"lng":"104.1063179","lat":"30.67699291","count":"1"},{"lng":"104.0925878","lat":"30.69145411","count":"1"},{"lng":"104.11143050000001","lat":"30.6642814","count":"1"},{"lng":"104.1081287","lat":"30.67241584","count":"1"},{"lng":"104.0941973","lat":"30.6908942","count":"1"},{"lng":"104.08284379999999","lat":"30.69628534","count":"1"},{"lng":"104.0923679","lat":"30.69156409","count":"1"},{"lng":"104.0959069","lat":"30.68998457","count":"1"},{"lng":"104.0608156","lat":"30.69702853","count":"1"},{"lng":"104.0907486","lat":"30.69236402","count":"1"},{"lng":"104.1004865","lat":"30.68710639","count":"1"},{"lng":"104.1049474","lat":"30.67921133","count":"1"},{"lng":"104.1087991","lat":"30.670187199999997","count":"1"},{"lng":"104.11152059999999","lat":"30.66347181","count":"1"},{"lng":"104.04527220000001","lat":"30.69659762","count":"1"},{"lng":"104.1059177","lat":"30.67782236","count":"1"},{"lng":"104.1062679","lat":"30.67664304","count":"1"},{"lng":"104.1089691","lat":"30.669937400000002","count":"1"},{"lng":"104.1122511","lat":"30.66171307","count":"1"},{"lng":"104.10030649999999","lat":"30.68759613","count":"1"},{"lng":"104.08494209999999","lat":"30.69544462","count":"1"},{"lng":"104.08003640000001","lat":"30.69697681","count":"1"},{"lng":"104.05868000000001","lat":"30.69705192","count":"1"},{"lng":"104.06299140000002","lat":"30.69702526","count":"1"},{"lng":"104.0636002","lat":"30.69702438","count":"1"},{"lng":"104.1089691","lat":"30.67041719","count":"1"},{"lng":"104.1078386","lat":"30.67314537","count":"1"},{"lng":"104.10782859999999","lat":"30.67316535","count":"1"},{"lng":"104.1057677","lat":"30.67769235","count":"1"},{"lng":"104.1113905","lat":"30.66437133","count":"1"},{"lng":"104.1095394","lat":"30.66852835","count":"1"},{"lng":"104.1009366","lat":"30.68629686","count":"1"},{"lng":"104.103087","lat":"30.6824392","count":"1"},{"lng":"104.10521750000001","lat":"30.67874165","count":"1"},{"lng":"104.10866899999999","lat":"30.67051698","count":"1"},{"lng":"104.1040172","lat":"30.68128004","count":"1"},{"lng":"104.10308690000001","lat":"30.68293897","count":"1"},{"lng":"104.0947171","lat":"30.690624300000003","count":"1"},{"lng":"104.1072083","lat":"30.67472435","count":"1"},{"lng":"104.0906286","lat":"30.6926739","count":"1"},{"lng":"104.09206800000001","lat":"30.69196395","count":"1"},{"lng":"104.0796069","lat":"30.69697712","count":"1"},{"lng":"104.0991465","lat":"30.68817566","count":"1"},{"lng":"104.1014767","lat":"30.6853974","count":"1"},{"lng":"104.1055976","lat":"30.67813208","count":"1"},{"lng":"104.1092093","lat":"30.6693478","count":"1"},{"lng":"104.11224109999999","lat":"30.66174305","count":"1"},{"lng":"104.0820445","lat":"30.69663565","count":"1"},{"lng":"104.0934375","lat":"30.691024199999998","count":"1"},{"lng":"104.10273690000001","lat":"30.68309879","count":"1"},{"lng":"104.10794859999999","lat":"30.67228581","count":"1"},{"lng":"104.1123412","lat":"30.66046368","count":"1"},{"lng":"104.1123013","lat":"30.65748495","count":"1"},{"lng":"104.08106540000001","lat":"30.69696612","count":"1"},{"lng":"104.0720063","lat":"30.69708386","count":"1"},{"lng":"104.1057877","lat":"30.67769236","count":"1"},{"lng":"104.0906086","lat":"30.6926839","count":"1"},{"lng":"104.108719","lat":"30.67059697","count":"1"},{"lng":"104.10915920000001","lat":"30.66945772","count":"1"},{"lng":"104.10933929999999","lat":"30.66901802","count":"1"},{"lng":"104.11115040000001","lat":"30.6645411","count":"1"},{"lng":"104.1116207","lat":"30.66335193","count":"1"},{"lng":"104.1123412","lat":"30.660193800000002","count":"1"},{"lng":"104.10785859999999","lat":"30.673085399999998","count":"1"},{"lng":"104.10622790000001","lat":"30.67673299","count":"1"},{"lng":"104.1091492","lat":"30.66995749","count":"1"}],
      		points3:[{"lng":"104.1123311","lat":"30.66198301","count":"1"},{"lng":"104.1095494","lat":"30.668888199999998","count":"1"},{"lng":"104.1015767","lat":"30.68549738","count":"1"},{"lng":"104.10041650000001","lat":"30.68715635","count":"1"},{"lng":"104.1082588","lat":"30.67167624","count":"1"},{"lng":"104.1123412","lat":"30.66038372","count":"1"},{"lng":"104.10739840000001","lat":"30.67423466","count":"1"},{"lng":"104.0867808","lat":"30.69456422","count":"1"},{"lng":"104.07946700000001","lat":"30.69697722","count":"1"},{"lng":"104.0706483","lat":"30.69710533","count":"1"},{"lng":"104.05381070000001","lat":"30.696990399999997","count":"1"},{"lng":"104.0542996","lat":"30.697009499999997","count":"1"},{"lng":"104.0551277","lat":"30.697048","count":"1"},{"lng":"104.0569137","lat":"30.69705488","count":"1"},{"lng":"104.0603765","lat":"30.69703921","count":"1"},{"lng":"104.0624624","lat":"30.69702604","count":"1"},{"lng":"104.1062679","lat":"30.67713282","count":"1"},{"lng":"104.10620779999999","lat":"30.67728273","count":"1"},{"lng":"104.0865909","lat":"30.69465425","count":"1"},{"lng":"104.07800859999999","lat":"30.69698832","count":"1"},{"lng":"104.0462795","lat":"30.69666544","count":"1"},{"lng":"104.05407009999999","lat":"30.69699993","count":"1"},{"lng":"104.0580713","lat":"30.69705293","count":"1"},{"lng":"104.06131459999999","lat":"30.69702776","count":"1"},{"lng":"104.0669642","lat":"30.69698983","count":"1"},{"lng":"104.0448832","lat":"30.69657847","count":"1"},{"lng":"104.1123511","lat":"30.66192305","count":"1"},{"lng":"104.11152059999999","lat":"30.66406155","count":"1"},{"lng":"104.108689","lat":"30.67107674","count":"1"},{"lng":"104.09494709999998","lat":"30.69050434","count":"1"},{"lng":"104.0931276","lat":"30.69143405","count":"1"},{"lng":"104.09200799999999","lat":"30.69173407","count":"1"},{"lng":"104.0716469","lat":"30.69693431","count":"1"},{"lng":"104.04105390000001","lat":"30.69556748","count":"1"},{"lng":"104.1015767","lat":"30.68520751","count":"1"},{"lng":"104.103437","lat":"30.68190956","count":"1"},{"lng":"104.1060478","lat":"30.67704277","count":"1"},{"lng":"104.1096395","lat":"30.66807861","count":"1"},{"lng":"104.05406020000001","lat":"30.69699994","count":"1"},{"lng":"104.0562652","lat":"30.69706599","count":"1"},{"lng":"104.0610751","lat":"30.69702813","count":"1"},{"lng":"104.0637999","lat":"30.697024100000004","count":"1"},{"lng":"104.0671839","lat":"30.69698955","count":"1"},{"lng":"104.0671839","lat":"30.69698955","count":"1"},{"lng":"104.0704586","lat":"30.69694562","count":"1"},{"lng":"104.0872005","lat":"30.69416424","count":"1"},{"lng":"104.0815249","lat":"30.69677591","count":"1"},{"lng":"104.0904887","lat":"30.69249401","count":"1"},{"lng":"104.0777889","lat":"30.6969885","count":"1"},{"lng":"104.0462894","lat":"30.69666542","count":"1"},{"lng":"104.0534017","lat":"30.69698116","count":"1"},{"lng":"104.0603166","lat":"30.697039299999997","count":"1"},{"lng":"104.08632109999999","lat":"30.69478431","count":"1"},{"lng":"104.0972067","lat":"30.68928494","count":"1"},{"lng":"104.0868907","lat":"30.6945042","count":"1"},{"lng":"104.08036609999999","lat":"30.69697658","count":"1"},{"lng":"104.0701191","lat":"30.69710594","count":"1"},{"lng":"104.04487320000001","lat":"30.69678839","count":"1"},{"lng":"104.0465388","lat":"30.69667489","count":"1"},{"lng":"104.0553073","lat":"30.69706767","count":"1"},{"lng":"104.062163","lat":"30.69702648","count":"1"},{"lng":"104.0649677","lat":"30.69701247","count":"1"},{"lng":"104.0682022","lat":"30.69696828","count":"1"},{"lng":"104.0705485","lat":"30.69694552","count":"1"},{"lng":"104.09102840000001","lat":"30.6924739","count":"1"},{"lng":"104.1015167","lat":"30.68532744","count":"1"},{"lng":"104.1036771","lat":"30.68145984","count":"1"},{"lng":"104.10700820000001","lat":"30.67473424","count":"1"},{"lng":"104.10804870000001","lat":"30.67221589","count":"1"},{"lng":"104.0931976","lat":"30.69139406","count":"1"},{"lng":"104.1009866","lat":"30.68620691","count":"1"},{"lng":"104.10349699999999","lat":"30.68179963","count":"1"},{"lng":"104.09230790000001","lat":"30.69184397","count":"1"},{"lng":"104.04629940000001","lat":"30.696665399999997","count":"1"},{"lng":"104.0544692","lat":"30.69701919","count":"1"},{"lng":"104.05828079999999","lat":"30.69705258","count":"1"},{"lng":"104.0678528","lat":"30.69693873","count":"1"},{"lng":"104.08062579999999","lat":"30.69683647","count":"1"},{"lng":"104.0912483","lat":"30.69212402","count":"1"},{"lng":"104.10163670000001","lat":"30.68511757","count":"1"},{"lng":"104.10163670000001","lat":"30.68511757","count":"1"},{"lng":"104.0809455","lat":"30.69682626","count":"1"},{"lng":"104.0983566","lat":"30.68855538","count":"1"},{"lng":"104.1044473","lat":"30.68010073","count":"1"},{"lng":"104.1085089","lat":"30.67090672","count":"1"},{"lng":"104.07570140000001","lat":"30.69687033","count":"1"},{"lng":"104.0763705","lat":"30.69686974","count":"1"},{"lng":"104.07678","lat":"30.69685939","count":"1"},{"lng":"104.07742929999999","lat":"30.69685885","count":"1"},{"lng":"104.089839","lat":"30.692874","count":"1"},{"lng":"104.1088791","lat":"30.67016725","count":"1"},{"lng":"104.1122111","lat":"30.66183299","count":"1"},{"lng":"104.04613979999999","lat":"30.69665574","count":"1"},{"lng":"104.0461797","lat":"30.69665566","count":"1"},{"lng":"104.0543495","lat":"30.69700941","count":"1"},{"lng":"104.0564448","lat":"30.69706568","count":"1"},{"lng":"104.0605461","lat":"30.69703895","count":"1"},{"lng":"104.06762309999999","lat":"30.696979","count":"1"},{"lng":"104.0704586","lat":"30.69694562","count":"1"},{"lng":"104.05082790000002","lat":"30.69710599","count":"1"}],
			points:[{"lng":"104.0740635","lat":"30.69689185","count":"1"},{"lng":"104.1062679","lat":"30.67711283","count":"1"},{"lng":"104.1074584","lat":"30.67408476","count":"1"},{"lng":"104.1075584","lat":"30.67383492","count":"1"},{"lng":"104.10615779999999","lat":"30.67740265","count":"1"},{"lng":"104.10220679999999","lat":"30.68445802","count":"1"},{"lng":"104.0798666","lat":"30.69697693","count":"1"},{"lng":"104.078568","lat":"30.69698789","count":"1"},{"lng":"104.07834820000001","lat":"30.69698806","count":"1"},{"lng":"104.0774393","lat":"30.69698878","count":"1"},{"lng":"104.0727353","lat":"30.697073100000004","count":"1"},{"lng":"104.07193640000001","lat":"30.69708393","count":"1"},{"lng":"104.07108769999999","lat":"30.69709485","count":"1"},{"lng":"104.0869307","lat":"30.69430428","count":"1"},{"lng":"104.07167679999999","lat":"30.69708421","count":"1"},{"lng":"104.0614444","lat":"30.69702757","count":"1"},{"lng":"104.06371","lat":"30.69702423","count":"1"},{"lng":"104.0933375","lat":"30.69132408","count":"1"},{"lng":"104.0875303","lat":"30.69418411","count":"1"},{"lng":"104.08741040000001","lat":"30.69424413","count":"1"},{"lng":"104.1079186","lat":"30.67254568","count":"1"},{"lng":"104.1080387","lat":"30.67258572","count":"1"},{"lng":"104.10862900000001","lat":"30.67080683","count":"1"},{"lng":"104.1089291","lat":"30.67005733","count":"1"},{"lng":"104.10898909999999","lat":"30.66988744","count":"1"},{"lng":"104.1119609","lat":"30.66247254","count":"1"},{"lng":"104.04648890000001","lat":"30.69667499","count":"1"},{"lng":"104.0530026","lat":"30.69697191","count":"1"},{"lng":"104.057263","lat":"30.69705428","count":"1"},{"lng":"104.06294150000001","lat":"30.69702534","count":"1"},{"lng":"104.0630912","lat":"30.69702512","count":"1"},{"lng":"104.0556166","lat":"30.69706712","count":"1"},{"lng":"104.0539305","lat":"30.69700018","count":"1"},{"lng":"104.0660358","lat":"30.69696106","count":"1"},{"lng":"104.0561155","lat":"30.69706625","count":"1"},{"lng":"104.06500770000001","lat":"30.69697244","count":"1"},{"lng":"104.0755416","lat":"30.69687048","count":"1"},{"lng":"104.0470574","lat":"30.6968837","count":"1"},{"lng":"104.0537708","lat":"30.69704045","count":"1"},{"lng":"104.06729370000001","lat":"30.69693943","count":"1"},{"lng":"104.0798666","lat":"30.69684699","count":"1"},{"lng":"104.0909285","lat":"30.69228401","count":"1"},{"lng":"104.1057777","lat":"30.67779231","count":"1"},{"lng":"104.0717767","lat":"30.69693417","count":"1"},{"lng":"104.08676080000001","lat":"30.69437432","count":"1"},{"lng":"104.10127659999999","lat":"30.68573719","count":"1"},{"lng":"104.1051975","lat":"30.67877163","count":"1"},{"lng":"104.1072983","lat":"30.67400471","count":"1"},{"lng":"104.10814870000002","lat":"30.67197605","count":"1"},{"lng":"104.108729","lat":"30.67055699","count":"1"},{"lng":"104.1095194","lat":"30.66856832","count":"1"},{"lng":"104.0506283","lat":"30.69708639","count":"1"},{"lng":"104.1073883","lat":"30.67437459","count":"1"},{"lng":"104.0932376","lat":"30.69119415","count":"1"},{"lng":"104.0998865","lat":"30.68794589","count":"1"},{"lng":"104.1078986","lat":"30.67298547","count":"1"},{"lng":"104.0928777","lat":"30.69155402","count":"1"},{"lng":"104.0872205","lat":"30.69434415","count":"1"},{"lng":"104.1004365","lat":"30.68713637","count":"1"},{"lng":"104.10136659999999","lat":"30.68559728","count":"1"},{"lng":"104.10148670000001","lat":"30.68537741","count":"1"},{"lng":"104.1045573","lat":"30.67990087","count":"1"},{"lng":"104.1081787","lat":"30.67172618","count":"1"},{"lng":"104.1115306","lat":"30.66345183","count":"1"},{"lng":"104.09588690000001","lat":"30.69000456","count":"1"},{"lng":"104.0883498","lat":"30.69379401","count":"1"},{"lng":"104.071567","lat":"30.69708433","count":"1"},{"lng":"104.0692305","lat":"30.69695704","count":"1"},{"lng":"104.07291500000001","lat":"30.69693298","count":"1"},{"lng":"104.0865209","lat":"30.69449436","count":"1"},{"lng":"104.1072483","lat":"30.67471437","count":"1"},{"lng":"104.1001565","lat":"30.68779601","count":"1"},{"lng":"104.0885797","lat":"30.69348408","count":"1"},{"lng":"104.0961768","lat":"30.68967472","count":"1"},{"lng":"104.10148670000001","lat":"30.6853874","count":"1"},{"lng":"104.1049974","lat":"30.67914138","count":"1"},{"lng":"104.1082088","lat":"30.67166622","count":"1"},{"lng":"104.1112804","lat":"30.66464114","count":"1"},{"lng":"104.1071182","lat":"30.67506415","count":"1"},{"lng":"104.04695770000001","lat":"30.696694","count":"1"},{"lng":"104.0468978","lat":"30.69669413","count":"1"},{"lng":"104.05389050000001","lat":"30.69700025","count":"1"},{"lng":"104.0570834","lat":"30.69705459","count":"1"},{"lng":"104.06374","lat":"30.6969842","count":"1"},{"lng":"104.0745129","lat":"30.69689142","count":"1"},{"lng":"104.0970367","lat":"30.68922496","count":"1"},{"lng":"104.1041272","lat":"30.68067036","count":"1"},{"lng":"104.1084689","lat":"30.67102664","count":"1"},{"lng":"104.0716069","lat":"30.69708429","count":"1"},{"lng":"104.0522744","lat":"30.69699326","count":"1"},{"lng":"104.0592089","lat":"30.69696111","count":"1"},{"lng":"104.0622528","lat":"30.69702635","count":"1"},{"lng":"104.08018630000001","lat":"30.6969767","count":"1"},{"lng":"104.05528740000001","lat":"30.697067699999998","count":"1"},{"lng":"104.06152420000001","lat":"30.69699746","count":"1"},{"lng":"104.0712175","lat":"30.69691479","count":"1"},{"lng":"104.080416","lat":"30.69683661","count":"1"},{"lng":"104.08964909999999","lat":"30.69290403","count":"1"},{"lng":"104.10308690000001","lat":"30.68293897","count":"1"},{"lng":"104.08411269999999","lat":"30.69587483","count":"1"}],
       };
   },
   //监听属性 类似于data概念
   mounted(){
       this.initChart()
   },
   methods: {
       initChart(){
           this.createMap()
	   	   this.initHeatMap();
       },
       createMap(){
                // 在百度地图容器中创建地图实例
                let map = new BMap.Map("container");
                // 将map变量存储在全局
                this.map = map;
                // 设定地图的中心点和坐标
                let point = new BMap.Point(104.101886,30.685644);
                // 设置中心点坐标和地图级别
                this.map.centerAndZoom(point, 15);
                // 允许滚轮缩放
                this.map.enableScrollWheelZoom(point, 15);
                // 添加左上角缩放比例尺(offset: new BMap.Size(0, 0)为比例尺的坐标位置)
                var opts = {offset: new BMap.Size(10, 10)}
                this.map.addControl(new BMap.NavigationControl(opts));
                // 设置地图默认缩放比例
                this.map.setZoom(15);
        },
	   initHeatMap () {
                this.heatmapOverlay = new BMapLib.HeatmapOverlay({
                    // 热力图的每个点的半径大小
                    'radius': BMAP_POINT_SIZE_SMALL * 4,
                    // 热力的透明度0~1
                    'opacity': 0.8,
                    // 其中 key 表示插值的位置0~1，value 为颜色值
                    'gradient': {
                        0:'rgb(102, 255, 0)',
                        .5:'rgb(255, 170, 0)',
                        1:'rgb(255, 0, 0)'
                    }
                })
                // 清除图层(每次重新调用需要清除上一个覆盖物图层)
                this.map.clearOverlays();
                // 添加热力覆盖物
                this.map.addOverlay(this.heatmapOverlay);
                this.heatmapOverlay.setDataSet({data: this.points, max: 100});
                // 显示热力图，隐藏为this.heatmapOverlay.hide();
                this.heatmapOverlay.show();
            }
   },
   watch:{
	   val(val,oldval){
		   if(val == 1){
			   this.points = this.points1
		   }else if(val == 2){
			   this.points = this.points2
		   }else{
			   this.points = this.points3
		   }
		   this.initChart()
	   }
   }
}
</script>
<style scoped>
.hotmap{
    width: 100%;
    height: 100%;
}
#container {
        width: 100%;
        height: 100%;
        border: #ccc solid 1px;
    }
</style>